<!DOCTYPE html>
<html>
    <head>
        <%- include("partials/head.ejs") %>
        <link rel="stylesheet" href="/css/activities.css" />
        <title>High Street Gym - Activities</title>
    </head>
    <body>
        <main>
            <%- include("partials/header.ejs") %>

            <section class="activities">
                <div class="heading">
                    <h2>Activity Timetable</h2>
                    <div class="icon left">
                        <img src="/img/run.svg" alt="Manage Gym Activities" />
                        <a href="/sessions" class="button">
                            Book a session
                        </a>
                    </div>
                </div>

                <% if (weekLabel) { %>
                    <p class="week-range"><%= weekLabel %></p>
                <% } %>
                <div class="timetable">
                    <table>
                        <thead>
                            <tr>
                                <th>Days</th>
                                <% days.forEach((day) => { %>
                                    <th><%= day %></th>
                                <% }) %>
                            </tr>
                        </thead>
                        <tbody>
                            <% rows.forEach((row) => { %>
                                <tr>
                                    <th><%= row.name %></th>
                                    <% days.forEach((day) => { %>
                                        <td><%= (row.cells && row.cells[day]) ? row.cells[day] : 'None' %></td>
                                    <% }) %>
                                </tr>
                            <% }) %>
                        </tbody>
                    </table>
                </div>

                <div class="activity-cards">
                    <% activities.forEach((activity) => { %>
                        <article class="card">
                            <img src="/img/activity-<%= activity.name.replaceAll(" ", "-").toLowerCase() %>.avif" alt="<%= activity.name %>" />
                            <div>
                                <h3><%= activity.name %></h3>
                                <p><%= activity.description %></p>
                            </div>
                        </article>
                    <% }) %>
                </div>
            </section>

            <%- include("partials/footer.ejs") %>
        </main>
    </body>
</html>
